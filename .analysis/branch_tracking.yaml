---
# Branch Tracking File
# Maintains metadata about branches and their verification status

metadata:
  last_update: "2024-01-17T21:00:00Z"
  version: "1.0.0"

branches:
  - name: "feat/config-core-loading"
    status: "verified"
    verification_date: "2024-01-17"
    changes:
      - type: "fix"
        component: "helm"
        description: "Changed security-baseline chart type from library to application"
      - type: "enhancement"
        component: "kubernetes"
        description: "Synchronized service names with configuration"
      - type: "test"
        component: "rbac"
        description: "Updated RBAC test to support ClusterRole pattern"
    dependencies:
      requires:
        - prometheus-operator-crds
        - monitoring-stack
      provides:
        - core-configuration
        - service-discovery

  - name: "feat/config-env-handling"
    status: "verified"
    verification_date: "2024-01-17"
    changes:
      - type: "enhancement"
        component: "config"
        description: "Environment-specific configuration handling"
      - type: "fix"
        component: "monitoring"
        description: "Added ServiceMonitor CRD installation"
    dependencies:
      requires:
        - prometheus-operator-crds
        - core-configuration
      provides:
        - environment-config
        - service-environment-mapping

  - name: "feature/security-cicd-infrastructure"
    status: "active"
    type: "feature"
    owner: "tzervas"
    description: "Security infrastructure for CI/CD pipelines"
    dependencies:
      requires:
        - core-configuration
        - environment-config
      provides:
        - security-pipeline
        - cicd-security-checks

required_actions:
  deployment:
    - action: "Install Prometheus Operator CRDs"
      priority: "high"
      branches:
        - "feat/config-core-loading"
        - "feat/config-env-handling"
    - action: "Fix k8s config file permissions"
      priority: "medium"
      type: "security"

security_notes:
  - topic: "CRD Management"
    description: "Ensure CRDs are installed before service deployment"
    affected_branches:
      - "feat/config-core-loading"
      - "feat/config-env-handling"
  - topic: "RBAC Configuration"
    description: "Using ClusterRole for broader access control"
    affected_branches:
      - "feat/config-core-loading"
