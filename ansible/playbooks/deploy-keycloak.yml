---
# Keycloak SSO Deployment
# Deploys Keycloak for authentication and authorization

- name: Deploy Keycloak SSO
  debug:
    msg: "🔐 Deploying Keycloak SSO server..."

- name: Create Keycloak namespace
  shell: kubectl create namespace keycloak --dry-run=client -o yaml | kubectl apply -f -
  environment:
    KUBECONFIG: /etc/rancher/k3s/k3s.yaml

- name: Display Keycloak deployment status
  debug:
    msg: "✅ Keycloak SSO deployment initiated successfully!"
