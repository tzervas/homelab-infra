# Docker Compose Environment Configuration
# Copy this file to .env and update the values for your environment

# ==========================================
# DEPLOYMENT CONFIGURATION
# ==========================================
COMPOSE_PROJECT_NAME=homelab
ENVIRONMENT=development  # development, staging, or production
DEBUG=false

# ==========================================
# NETWORK CONFIGURATION
# ==========================================
DOMAIN=homelab.local
LOAD_BALANCER_IP=192.168.16.100

# ==========================================
# SECURITY CONFIGURATION
# ==========================================
# Generate secure random values using:
# openssl rand -base64 32

# Keycloak Admin Credentials
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=changeme_secure_password

# Keycloak Database
POSTGRES_USER=keycloak
POSTGRES_PASSWORD=changeme_secure_password
POSTGRES_DB=keycloak

# OAuth2 Proxy Secrets (base64 encoded)
OAUTH2_CLIENT_ID=homelab
OAUTH2_CLIENT_SECRET=changeme_base64_encoded_client_secret
OAUTH2_COOKIE_SECRET=changeme_base64_encoded_32_byte_random_key

# Grafana Configuration
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=changeme_secure_password

# GitLab Configuration
GITLAB_ROOT_PASSWORD=changeme_secure_password
GITLAB_RUNNER_REGISTRATION_TOKEN=changeme_runner_token

# ==========================================
# SERVICE PORTS
# ==========================================
KEYCLOAK_PORT=8080
OAUTH2_PROXY_PORT=4180
GRAFANA_PORT=3000
PROMETHEUS_PORT=9090
ALERTMANAGER_PORT=9093
GITLAB_HTTP_PORT=80
GITLAB_SSH_PORT=22
JUPYTER_PORT=8888
OLLAMA_PORT=11434
PORTAL_PORT=8000

# ==========================================
# STORAGE CONFIGURATION
# ==========================================
DATA_PATH=./data
KEYCLOAK_DB_PATH=${DATA_PATH}/postgres
PROMETHEUS_DATA_PATH=${DATA_PATH}/prometheus
GRAFANA_DATA_PATH=${DATA_PATH}/grafana
GITLAB_CONFIG_PATH=${DATA_PATH}/gitlab/config
GITLAB_LOGS_PATH=${DATA_PATH}/gitlab/logs
GITLAB_DATA_PATH=${DATA_PATH}/gitlab/data
JUPYTER_DATA_PATH=${DATA_PATH}/jupyter
OLLAMA_DATA_PATH=${DATA_PATH}/ollama

# ==========================================
# RESOURCE LIMITS (optional)
# ==========================================
# Memory limits in format: 512m, 1g, 2g, etc.
KEYCLOAK_MEMORY_LIMIT=1g
POSTGRES_MEMORY_LIMIT=512m
GRAFANA_MEMORY_LIMIT=512m
PROMETHEUS_MEMORY_LIMIT=2g
GITLAB_MEMORY_LIMIT=4g
JUPYTER_MEMORY_LIMIT=2g
OLLAMA_MEMORY_LIMIT=4g

# ==========================================
# PROMETHEUS CONFIGURATION
# ==========================================
PROMETHEUS_RETENTION_TIME=30d
PROMETHEUS_RETENTION_SIZE=50GB

# ==========================================
# TLS/SSL CONFIGURATION
# ==========================================
TLS_CERT_EMAIL=admin@homelab.local
ENABLE_TLS=false  # Set to true for production with proper certificates

# ==========================================
# ADDITIONAL SETTINGS
# ==========================================
# Timezone
TZ=UTC

# Log Level
LOG_LEVEL=info  # debug, info, warn, error
